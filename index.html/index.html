<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CURSOS</title>
  <style>
  body {
    font-family: Arial, sans-serif;
    background-color: #A3C95A; /* fondo general verde claro */
    padding: 20px;
    max-width: 900px;
    margin: auto;
  }
  h1, h2, h3 {
    text-align: center;
    color: #4C7C46; /* verde oscuro */
  }
  form {
    display: flex;
    flex-direction: column;
  }
  label {
    margin-top: 10px;
    font-weight: bold;
    color: #444444; /* gris oscuro para mayor contraste */
  }
  input, select, textarea {
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 6px;
  }
  button {
    margin-top: 20px;
    padding: 10px;
    background-color: #4C7C46; /* verde oscuro */
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    cursor: pointer;
  }
  button:hover {
    background-color: #3b6538; /* tono más oscuro para hover */
  }
  section {
    background-color: #ffffff; /* blanco para secciones de curso */
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 30px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }
  .oculto { display: none; }
  .pregunta-block {
    margin-top: 15px;
    padding: 10px;
    background-color: #4C7C46;
    color: white;
    border-radius: 6px;
  }
  #logo {
    display: block;
    margin: 0 auto 20px auto;
    width: 150px;
  }
</style>

      
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <div style="text-align: center;">
    <img id="logo" src="Capacita SM.png" alt="Capacita SM" style="max-width: 120px; margin-bottom: 10px;">
  </div>
  <h1>CURSO: PREVENCIÓN DE INCENDIOS Y USO DE EXTINTORES </h1>

  <form id="datosCertificado">
    <label for="nombre">Nombre completo:</label>
    <input type="text" id="nombre" required>

    <label for="rut">RUT:</label>
    <input type="text" id="rut" required>

    <label for="empresa">Empresa:</label>
    <select id="empresa" required>
      <option value="">-- Seleccione --</option>
      <option value="CEBALLOS Y CONCHA SPA RUT 78.278.870-1">CEBALLOS Y CONCHA SPA RUT 78.278.870-1</option>
      <option value="ENRIQUE CEBALLOS MONTECINOS RUT 8.217.723-K">ENRIQUE CEBALLOS MONTECINOS RUT 8.217.723-K</option>
    </select>

    <label for="sucursal">Sucursal:</label>
    <select id="sucursal" required>
      <option value="">-- Seleccione --</option>
      <option value="ENRIQUE MOLINA 630, TOMÉ">ENRIQUE MOLINA 630, TOMÉ</option>
      <option value="NOGUEIRA 1091, TOMÉ">NOGUEIRA 1091, TOMÉ</option>
      <option value="SANTA MARÍA 2420, CONCEPCIÓN">SANTA MARÍA 2420, CONCEPCIÓN</option>
    </select>

    <label for="cargo">Cargo:</label>
    <select id="cargo" onchange="mostrarOtroCargo()" required>
      <option value="">-- Seleccione --</option>
      <option value="VENDEDOR(A)">VENDEDOR(A)</option>
      <option value="CAJERO(A)">CAJERO(A)</option>
      <option value="JEFE(A) DE SUCURSAL">JEFE(A) DE SUCURSAL</option>
      <option value="AUXILIAR">AUXILIAR</option>
      <option value="REPONEDOR">REPONEDOR</option>
      <option value="CHOFER">CHOFER</option>
      <option value="AUXILIAR DE REPARTO">AUXILIAR DE REPARTO</option>
      <option value="PANADERO(A)">PANADERO(A)</option>
      <option value="PASTELERO(A)">PASTELERO(A)</option>
      <option value="AYUDANTE DE PANADERÍA">AYUDANTE DE PANADERÍA</option>
      <option value="AYUDANTE DE PASTELERÍA">AYUDANTE DE PASTELERÍA</option>
      <option value="otro">OTRO</option>
    </select>

    <div id="otroCargoDiv" style="display:none;">
      <label for="otroCargo">Especifique otro cargo:</label>
      <input type="text" id="otroCargo">
    </div>
  </form>

  <div id="curso">
  <section id="modulo1">
    <h2>Módulo 1: Normativa Legal</h2>
    <p>El Decreto 44 obliga a capacitar en prevención de riesgos. La capacitación es obligatoria y responsabilidad del empleador.</p>
    <div class="pregunta-block">
      <p><strong>Pregunta:</strong> ¿Cuál es el objetivo del Decreto 44?</p>
      <label><input type="radio" name="p1" value="correcta"> Capacitar en prevención de riesgos</label><br>
      <label><input type="radio" name="p1" value="incorrecta"> Fiscalizar contratos laborales</label><br>
      <button onclick="evaluar('p1', 'modulo1', 'modulo2')">Siguiente</button>
    </div>
  </section>

  <section id="modulo2" class="oculto">
    <h2>Módulo 2: ¿Qué es el fuego?</h2>
    <p>El fuego necesita calor, combustible y oxígeno. Estos forman el triángulo del fuego.</p>
    <div class="pregunta-block">
      <p><strong>Pregunta:</strong> ¿Qué elemento no forma parte del triángulo del fuego?</p>
      <label><input type="radio" name="p2" value="correcta"> Agua</label><br>
      <label><input type="radio" name="p2" value="incorrecta"> Calor</label><br>
      <button onclick="evaluar('p2', 'modulo2', 'modulo3')">Siguiente</button>
    </div>
  </section>

  <section id="modulo3" class="oculto">
    <h2>Módulo 3: Tipos de Extintores</h2>
    <p>Extintores tipo ABC sirven para varios tipos de fuego. El de CO₂ es ideal para eléctricos.</p>
    <div class="pregunta-block">
      <p><strong>Pregunta:</strong> ¿Qué extintor se usa en fuegos eléctricos?</p>
      <label><input type="radio" name="p3" value="correcta"> CO₂</label><br>
      <label><input type="radio" name="p3" value="incorrecta"> Agua</label><br>
      <button onclick="evaluar('p3', 'modulo3', 'modulo4')">Siguiente</button>
    </div>
  </section>

  <section id="modulo4" class="oculto">
    <h2>Módulo 4: Uso Correcto - Técnica PASS</h2>
    <p>PASO: Pasador, Apuntar, Sujetar, Barrer. Siempre a la base del fuego.</p>
    <div class="pregunta-block">
      <p><strong>Pregunta:</strong> ¿Dónde se apunta el extintor?</p>
      <label><input type="radio" name="p4" value="correcta"> A la base del fuego</label><br>
      <label><input type="radio" name="p4" value="incorrecta"> A la parte superior del fuego</label><br>
      <button onclick="evaluar('p4', 'modulo4', 'modulo5')">Siguiente</button>
    </div>
  </section>

  <section id="modulo5" class="oculto">
    <h2>Módulo 5: Mantención</h2>
    <p>Los extintores deben revisarse mensualmente, señalizarse y mantenerse accesibles.</p>
    <div class="pregunta-block">
      <p><strong>Pregunta:</strong> ¿Cada cuánto se revisa un extintor?</p>
      <label><input type="radio" name="p5" value="correcta"> Mensualmente</label><br>
      <label><input type="radio" name="p5" value="incorrecta"> Anualmente</label><br>
      <button onclick="evaluar('p5', 'modulo5', 'modulo6')">Siguiente</button>
    </div>
  </section>

  <section id="modulo6" class="oculto">
    <h2>Módulo 6: Actuar ante un Incendio</h2>
    <p>Activar alarma, evacuar si es necesario, y usar extintor solo si hay seguridad.</p>
    <div class="pregunta-block">
      <p><strong>Pregunta:</strong> ¿Qué se debe hacer primero en caso de incendio?</p>
      <label><input type="radio" name="p6" value="correcta"> Activar la alarma</label><br>
      <label><input type="radio" name="p6" value="incorrecta"> Usar el extintor de inmediato</label><br>
      <button onclick="finalizarCurso()">Finalizar Curso</button>
    </div>
  </section>
</div>

  <script>
    function evaluar(pregunta, actual, siguiente) {
      const respuesta = document.querySelector(`input[name="${pregunta}"]:checked`);
      if (!respuesta) {
        alert("Debe responder la pregunta antes de continuar.");
        return;
      }
      if (respuesta.value !== "correcta") {
        alert("Respuesta incorrecta. Revise el contenido y vuelva a intentarlo.");
        return;
      }
      document.getElementById(actual).classList.add("oculto");
      document.getElementById(siguiente).classList.remove("oculto");
    }

function finalizarCurso() {
  const nombre = document.getElementById("nombre").value.trim();
  const rut = document.getElementById("rut").value.trim();
  const empresa = document.getElementById("empresa").value;
  const sucursal = document.getElementById("sucursal").value;
  const cargo = document.getElementById("cargo").value === "otro"
    ? document.getElementById("otroCargo").value.trim()
    : document.getElementById("cargo").value;

  if (!nombre || !rut || !empresa || !sucursal || !cargo) {
    alert("Debe completar todos los datos antes de generar el certificado.");
    return;
  }

  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();

  const logo = new Image();
  logo.src = 'Capacita SM.png';
  logo.onload = () => {
    // Logo y título
    doc.addImage(logo, 'PNG', 75, 10, 60, 25);
    doc.setFontSize(16);
    doc.setTextColor(76, 124, 70); // verde oscuro
    doc.text("CERTIFICADO DE PARTICIPACIÓN", 105, 50, { align: "center" });

    doc.setFontSize(12);
    doc.setTextColor(0, 0, 0);
    let y = 70;

    doc.text("Por medio del presente se deja constancia que:", 20, y); y += 10;

    doc.setFont("Helvetica", "bold");
    doc.text(`${nombre}, RUT ${rut},`, 20, y); y += 10;
    doc.text(`quien se desempeña como ${cargo},`, 20, y); y += 10;
    doc.text(`en la empresa ${empresa},`, 20, y); y += 10;
    doc.text(`sucursal ${sucursal},`, 20, y); y += 15;

    doc.setFont("Helvetica", "normal");
    const texto = `ha participado y aprobado satisfactoriamente el curso "USO DE EXTINTORES - CUMPLIMIENTO DECRETO 44", cumpliendo con las disposiciones del Decreto Supremo N°44 del Ministerio del Trabajo y Previsión Social de Chile, que exige capacitación en prevención de riesgos laborales.`;
    const splitText = doc.splitTextToSize(texto, 170);
    doc.text(splitText, 20, y); y += splitText.length * 10;

    doc.text(`Fecha de emisión: ${new Date().toLocaleDateString()}`, 20, y + 10);
    doc.text("_____________________________", 20, y + 30);
    doc.text("Firma Responsable", 20, y + 37);

    doc.save("certificado-extintores.pdf");
  };
}
  </script>
</body>
</html>






